# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OAuth –¥–ª—è APK

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ APK, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **polling –º–µ—Ö–∞–Ω–∏–∑–º**:
1. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä
2. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –≤—Ö–æ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –ó–∞–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –≤—Ö–æ–¥** (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã)
5. –í–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### 1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (5 –º–∏–Ω—É—Ç)

```bash
cd /Users/d.chistoforov/moodflow
git add .
git commit -m "Fix mobile OAuth with polling mechanism"
git push
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://app.supabase.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Authentication ‚Üí URL Configuration**
3. –í **Redirect URLs** –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   https://moodflow-six.vercel.app/callback
   https://moodflow-six.vercel.app/api/auth/callback
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Cloud Console (3 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://console.cloud.google.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí **APIs & Services ‚Üí Credentials**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à OAuth 2.0 Client ID
4. –í **Authorized redirect URIs** –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   https://moodflow-six.vercel.app/callback
   https://moodflow-six.vercel.app/api/auth/callback
   ```
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OAuth Consent Screen (1 –º–∏–Ω—É—Ç–∞)

1. –í Google Cloud Console ‚Üí **APIs & Services ‚Üí OAuth consent screen**
2. –í **Authorized domains** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   vercel.app
   ```
3. –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ

---

## üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ

### –í APK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä ‚Üí –∑–∞–≤–µ—Ä—à–∏—Ç–µ –≤—Ö–æ–¥
4. –£–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: **"‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω! –ó–∞–∫—Ä–æ–π—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
5. –ó–∞–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä (—Å–≤–∞–π–ø –≤–≤–µ—Ä—Ö / –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥)
6. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
7. –í —Ç–µ—á–µ–Ω–∏–µ 2 —Å–µ–∫—É–Ω–¥ –≤–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å ‚úÖ

---

## ‚ùì –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∏—Å–∏—Ç –Ω–∞ "–í—Ö–æ–¥..."

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ 5 —Å–µ–∫—É–Ω–¥ (polling —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã)
2. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - –∑–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ
3. –î–æ–ª–∂–Ω–æ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å

### –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –í—Å–µ redirect URLs –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Supabase
- –í—Å–µ redirect URIs –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Google Cloud Console
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –Ω–∞ Vercel

### –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–ª–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: **MOBILE_APP_OAUTH_SETUP.md**

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö 4 —à–∞–≥–æ–≤ –≤–∞—à–µ APK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å OAuth! üéâ


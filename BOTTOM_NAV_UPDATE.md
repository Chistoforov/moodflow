# Обновление: Нижнее меню и раздел Материалы

## Что добавлено

### 1. Нижнее меню (Bottom Navigation)
- Компонент `BottomNav` с двумя разделами:
  - **Календарь** - главная страница (как было)
  - **Материалы** - новый раздел с постами психолога
- Индикатор непрочитанных материалов (красная циферка)

### 2. Раздел "Материалы"
- Страница со списком всех опубликованных постов психолога
- Полнотекстовый просмотр статей
- Отслеживание прочитанных/непрочитанных материалов
- Фильтрация по категориям и тегам

### 3. База данных
- Новая таблица `post_reads` для отслеживания прочитанных постов
- Тестовые статьи (3 поста):
  - "Как справляться с тревогой: 5 простых техник"
  - "Почему важно вести дневник эмоций"
  - "Признаки эмоционального выгорания"

## Применение миграции

Выполните следующую команду для применения миграции:

```bash
# Если используете Supabase локально
supabase db reset

# Или через Supabase CLI на продакшене
supabase db push
```

Или примените миграцию вручную через Supabase Dashboard:
1. Откройте Supabase Dashboard
2. Перейдите в SQL Editor
3. Скопируйте и выполните содержимое файла `supabase/migrations/003_posts_read_status.sql`

## Файлы изменены

### Новые файлы:
- `supabase/migrations/003_posts_read_status.sql` - миграция базы данных
- `src/components/layout/BottomNav.tsx` - компонент нижнего меню
- `src/app/(user)/materials/page.tsx` - страница материалов
- `src/app/api/posts/route.ts` - API для получения списка постов
- `src/app/api/posts/unread-count/route.ts` - API для подсчета непрочитанных
- `src/app/api/posts/[postId]/route.ts` - API для получения поста
- `src/app/api/posts/[postId]/read/route.ts` - API для отметки прочитанного

### Измененные файлы:
- `src/app/(user)/layout.tsx` - добавлено нижнее меню
- `src/app/(user)/calendar/page.tsx` - небольшие правки отступов

## Дизайн

Все элементы выполнены в едином стиле приложения:
- Цветовая палитра: `#8B3A3A` (бордовый), `#E8E2D5` (бежевый фон), `#F5F1EB` (светлый)
- Иконки в стиле outline
- Плавные переходы и анимации
- Адаптивный дизайн

## Тестирование

1. Войдите в приложение
2. Внизу должно появиться меню с двумя разделами
3. На иконке "Материалы" должна быть циферка "3" (количество непрочитанных постов)
4. Перейдите в раздел "Материалы"
5. Откройте любую статью
6. После прочтения циферка должна уменьшиться

## Что дальше

Вы можете:
- Добавить больше постов через Supabase Dashboard или админку
- Настроить категории и теги
- Добавить поиск по материалам
- Добавить возможность лайков и комментариев


# ๐ฏ ะะตะทัะผะต: ะะฝัะตะณัะฐัะธั ะะตัััะฝะพะน ะะฝะฐะปะธัะธะบะธ ั Perplexity AI

## ะงัะพ ะฑัะปะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### โ 1. ะะฐะทะฐ ะดะฐะฝะฝัั

**ะคะฐะนะป:** `supabase/migrations/024_create_monthly_analytics.sql`

ะกะพะทะดะฐะฝะฐ ัะฐะฑะปะธัะฐ `monthly_analytics` ัะพ ัะปะตะดัััะตะน ััััะบัััะพะน:
- ะฅัะฐะฝะตะฝะธะต ะฐะฝะฐะปะธัะธะบะธ ะฟะพ ะฝะตะดะตะปัะผ ะฒะฝัััะธ ะผะตัััะฐ
- ะะฐะบะพะฟะธัะตะปัะฝัะน ะฟัะธะฝัะธะฟ (7, 14, 21, 30+ ะดะฝะตะน)
- 5 ััััะบัััะธัะพะฒะฐะฝะฝัั ัะตะบัะธะน ะฐะฝะฐะปะธะทะฐ
- ะคะปะฐะณ ัะธะฝะฐะปัะฝะพะน ะฐะฝะฐะปะธัะธะบะธ ะผะตัััะฐ
- RLS ะฟะพะปะธัะธะบะธ ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ

**ะะปััะตะฒัะต ะฟะพะปั:**
- `week_number` - ะฝะพะผะตั ะฝะตะดะตะปะธ (1, 2, 3, 4)
- `days_analyzed` - ะบะพะปะธัะตััะฒะพ ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะดะฝะตะน
- `is_final` - ัะปะฐะณ ะฟะพัะปะตะดะฝะตะณะพ ะดะฝั ะผะตัััะฐ
- `general_impression`, `positive_trends`, `decline_reasons`, `recommendations`, `reflection_directions`

### โ 2. ะขะธะฟั TypeScript

**ะคะฐะนะป:** `src/types/database.ts`

ะะพะฑะฐะฒะปะตะฝั ัะธะฟั ะดะปั ะฝะพะฒะพะน ัะฐะฑะปะธัั `monthly_analytics`:
- `Row` - ะดะปั ััะตะฝะธั ะดะฐะฝะฝัั
- `Insert` - ะดะปั ะฒััะฐะฒะบะธ ะดะฐะฝะฝัั
- `Update` - ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะดะฐะฝะฝัั

### โ 3. Perplexity Service

**ะคะฐะนะป:** `src/lib/integrations/perplexity.ts`

ะะฐััะธัะตะฝ ัะตัะฒะธั ะฝะพะฒัะผ ะผะตัะพะดะพะผ `analyzeMonthlyMood()`:
- ะฃะปัััะตะฝะฝัะน ะฟัะพะผะฟั ะฝะฐ ะพัะฝะพะฒะต ะฒะฐัะตะณะพ ะทะฐะฟัะพัะฐ
- ะกัััะบัััะธัะพะฒะฐะฝะฝัะน ะพัะฒะตั ะฟะพ 5 ัะตะบัะธัะผ
- ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะฐััะธะฝะณ ะพัะฒะตัะฐ
- ะะพะฝัะตะบัั ะพ ะฝะพะผะตัะต ะฝะตะดะตะปะธ ะธ ะบะพะปะธัะตััะฒะต ะดะฝะตะน
- ะญะผะพะดะทะธ ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ะดะปั ะปัััะตะน ัะธัะฐะตะผะพััะธ

**ะัะพะผะฟั ะฒะบะปััะฐะตั:**
```
1. ะะฑัะตะต ะฒะฟะตัะฐัะปะตะฝะธะต ะพ ะฟะตัะธะพะดะต
2. ะะพะปะพะถะธัะตะปัะฝัะต ัะตะฝะดะตะฝัะธะธ
3. ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั ัะฟะฐะดะฐ
4. ะะตะบะพะผะตะฝะดะฐัะธะธ ะธ ัะตัะฝะธะบะธ
5. ะะฐะฟัะฐะฒะปะตะฝะธะต ะดะปั ัะฐะทะผััะปะตะฝะธะน
```

### โ 4. API Endpoints

#### **ะะตะฝะตัะฐัะธั ะฐะฝะฐะปะธัะธะบะธ**
**ะคะฐะนะป:** `src/app/api/analytics/generate/route.ts`

- `POST /api/analytics/generate`
- ะัะธะฝะธะผะฐะตั ะณะพะด ะธ ะผะตััั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- ะัะพะฒะตััะตั ัััะตััะฒะพะฒะฐะฝะธะต ะฐะฝะฐะปะธัะธะบะธ
- ะกะพะฑะธัะฐะตั ะฒัะต ะทะฐะฟะธัะธ ะผะตัััะฐ
- ะัะฟัะฐะฒะปัะตั ะฒ Perplexity
- ะกะพััะฐะฝัะตั ัะตะทัะปััะฐั

#### **ะะพะปััะตะฝะธะต ะฐะฝะฐะปะธัะธะบะธ**
**ะคะฐะนะป:** `src/app/api/analytics/route.ts`

- `GET /api/analytics?year=2024&month=11`
- ะะพะทะฒัะฐัะฐะตั ะฟะพัะปะตะดะฝัั ะฐะฝะฐะปะธัะธะบั ะผะตัััะฐ
- ะัะธะพัะธัะตั ัะธะฝะฐะปัะฝะพะน ะฐะฝะฐะปะธัะธะบะต

#### **Cron Job**
**ะคะฐะนะป:** `src/app/api/cron/monthly-analytics/route.ts`

- `GET /api/cron/monthly-analytics`
- ะะฐะฟััะบะฐะตััั ะตะถะตะดะฝะตะฒะฝะพ ะฒ 22:00 UTC
- ะะฑัะฐะฑะฐััะฒะฐะตั ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ั ะฐะบัะธะฒะฝะพะน ะฟะพะดะฟะธัะบะพะน
- ะะตะฝะตัะธััะตั ะฐะฝะฐะปะธัะธะบั ะบะฐะถะดัะต 7 ะดะฝะตะน
- ะกะพะทะดะฐะตั ัะธะฝะฐะปัะฝัั ะฐะฝะฐะปะธัะธะบั ะฒ ะฟะพัะปะตะดะฝะธะน ะดะตะฝั ะผะตัััะฐ

### โ 5. UI ะะฐะปะตะฝะดะฐัั

**ะคะฐะนะป:** `src/app/(user)/calendar/page.tsx`

ะะพะปะฝะพัััั ะฟะตัะตัะฐะฑะพัะฐะฝ ะฑะปะพะบ "ะะฝะฐะปะธัะธะบะฐ ะธ ัะตะบะพะผะตะฝะดะฐัะธะธ":

**ะะพะฒัะต ะฒะพะทะผะพะถะฝะพััะธ:**
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะทะฐะณััะทะบะฐ ะฐะฝะฐะปะธัะธะบะธ ะดะปั ัะตะบััะตะณะพ ะผะตัััะฐ
- ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั" ะดะปั ัััะฝะพะณะพ ะทะฐะฟััะบะฐ
- ะะฝะพะฟะบะฐ "ะะฑะฝะพะฒะธัั" ะดะปั ะฝะตะทะฐะฒะตััะตะฝะฝัั ะผะตัััะตะฒ
- ะัะพะฑัะฐะถะตะฝะธะต ะฒัะตั 5 ัะตะบัะธะน ะฐะฝะฐะปะธะทะฐ
- ะะฝะดะธะบะฐัะพั ัะธะฝะฐะปัะฝะพะน ะฐะฝะฐะปะธัะธะบะธ
- ะะฝัะพัะผะฐัะธั ะพ ะบะพะปะธัะตััะฒะต ะทะฐะฟะธัะตะน
- ะะฐัะฐ ัะพะทะดะฐะฝะธั ะฐะฝะฐะปะธัะธะบะธ

**ะะธะทัะฐะปัะฝัะน ะดะธะทะฐะนะฝ:**
- ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะบะฐััะพัะบะธ ะดะปั ะบะฐะถะดะพะน ัะตะบัะธะธ
- ะญะผะพะดะทะธ ะดะปั ะปัััะตะน ะฝะฐะฒะธะณะฐัะธะธ
- ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ
- ะกะพะพัะฒะตัััะฒะธะต ะพะฑัะตะผั ััะธะปั ะฟัะธะปะพะถะตะฝะธั

### โ 6. ะะฒัะพะผะฐัะธะทะฐัะธั

**ะคะฐะนะป:** `vercel.json`

ะะพะฑะฐะฒะปะตะฝ ะฝะพะฒัะน cron job:
```json
{
  "path": "/api/cron/monthly-analytics",
  "schedule": "0 22 * * *"
}
```

ะะฐะฟััะบะฐะตััั ะบะฐะถะดัะน ะดะตะฝั ะฒ 22:00 UTC ะธ ะฟัะพะฒะตััะตั:
- ะัะพัะปะพ ะปะธ 7 ะดะฝะตะน ั ะฝะฐัะฐะปะฐ ะผะตัััะฐ
- ะะปะธ ััะพ ะฟะพัะปะตะดะฝะธะน ะดะตะฝั ะผะตัััะฐ
- ะััั ะปะธ ัะถะต ะฐะฝะฐะปะธัะธะบะฐ ะทะฐ ััั ะฝะตะดะตะปั
- ะะพััะฐัะพัะฝะพ ะปะธ ะทะฐะฟะธัะตะน (ะผะธะฝะธะผัะผ 3)

### โ 7. ะะพะบัะผะตะฝัะฐัะธั

ะกะพะทะดะฐะฝั 3 ัะฐะนะปะฐ ะดะพะบัะผะตะฝัะฐัะธะธ:

1. **PERPLEXITY_ANALYTICS_GUIDE.md** - ะฟะพะปะฝะฐั ัะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
2. **MONTHLY_ANALYTICS_SETUP_RU.md** - ะฑัััััะน ััะฐัั ะฝะฐ ััััะบะพะผ
3. **APPLY_MIGRATION_024.md** - ะธะฝััััะบัะธั ะฟะพ ะฟัะธะผะตะฝะตะฝะธั ะผะธะณัะฐัะธะธ

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### ะกัะตะฝะฐัะธะน ะธัะฟะพะปัะทะพะฒะฐะฝะธั

#### ะะตะดะตะปั 1 (ะดะฝะธ 1-7)
```
ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะฟะพะปะฝัะตั ะดะฝะตะฒะฝะธะบ โ ะะตะฝั 7 โ Cron job
โ ะะตะฝะตัะฐัะธั ะฐะฝะฐะปะธัะธะบะธ ะทะฐ 7 ะดะฝะตะน โ ะกะพััะฐะฝะตะฝะธะต ะฒ ะะ
โ ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะฐะฝะฐะปะธัะธะบั ะฒ ะบะฐะปะตะฝะดะฐัะต
```

#### ะะตะดะตะปั 2 (ะดะฝะธ 8-14)
```
ะะพะปัะทะพะฒะฐัะตะปั ะฟัะพะดะพะปะถะฐะตั ะทะฐะฟะพะปะฝััั โ ะะตะฝั 14 โ Cron job
โ ะะตะฝะตัะฐัะธั ะฐะฝะฐะปะธัะธะบะธ ะทะฐ 14 ะดะฝะตะน (ะฝะฐะบะพะฟะธัะตะปัะฝะพ)
โ ะะฑะฝะพะฒะปะตะฝะธะต ะดะฐะฝะฝัั ะฒ ะบะฐะปะตะฝะดะฐัะต
```

#### ะะตะดะตะปั 3 (ะดะฝะธ 15-21)
```
ะขะพ ะถะต ัะฐะผะพะต โ ะะตะฝั 21 โ ะะฝะฐะปะธัะธะบะฐ ะทะฐ 21 ะดะตะฝั
```

#### ะะพัะปะตะดะฝะธะน ะดะตะฝั ะผะตัััะฐ (ะดะตะฝั 30)
```
ะะตะฝั 30 (ะฟะพัะปะตะดะฝะธะน) โ Cron job
โ ะะตะฝะตัะฐัะธั ะคะะะะะฌะะะ ะฐะฝะฐะปะธัะธะบะธ ะทะฐ ะฒะตัั ะผะตััั
โ ะคะปะฐะณ is_final = true โ ะกะพััะฐะฝะตะฝะธะต ะฝะฐะฒัะตะณะดะฐ
โ ะะฝะพะฟะบะฐ "ะะฑะฝะพะฒะธัั" ะธััะตะทะฐะตั
```

#### ะะพะฒัะน ะผะตััั
```
ะะตะฝั 1 ะฝะพะฒะพะณะพ ะผะตัััะฐ โ ะะฝะฐะปะธัะธะบะฐ ะฝะฐัะธะฝะฐะตััั ั ะฝัะปั
โ ะกัะฐัะฐั ะฐะฝะฐะปะธัะธะบะฐ ะดะพัััะฟะฝะฐ ะฒ ะธััะพัะธัะตัะบะพะผ ัะตะถะธะผะต
```

## ๐จ ะัะธะผะตั UI

### ะะพ ะณะตะฝะตัะฐัะธะธ
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฝะฐะปะธัะธะบะฐ ะธ ัะตะบะพะผะตะฝะดะฐัะธะธ             โ
โ                                       โ
โ ะัะพะดะพะปะถะฐะนัะต ะทะฐะฟะพะปะฝััั ะดะฝะตะฒะฝะธะบ ะธ ัะบะพัะพโ
โ ะฒั ัะผะพะถะตัะต ัะฒะธะดะตัั ะฒัะฒะพะดั ะธ          โ
โ ัะตะบะพะผะตะฝะดะฐัะธะธ                          โ
โ                                       โ
โ ะฃ ะฒะฐั ัะถะต ะตััั 5 ะทะฐะฟะธัะตะน ะทะฐ ััะพั     โ
โ ะผะตััั                                 โ
โ                                       โ
โ          [ะกะณะตะฝะตัะธัะพะฒะฐัั]              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพัะปะต ะณะตะฝะตัะฐัะธะธ (ะฝะตะดะตะปั 2)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฝะฐะปะธัะธะบะฐ ะธ ัะตะบะพะผะตะฝะดะฐัะธะธ             โ
โ ะะตะดะตะปั 2 โข 14 ะดะฝะตะน      [ะะฑะฝะพะฒะธัั]   โ
โ                                       โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ โ ะะฑัะตะต ะฒะฟะตัะฐัะปะตะฝะธะต ะพ ะฟะตัะธะพะดะต     โ  โ
โ โ                                 โ  โ
โ โ ะะฐ ะฟะพัะปะตะดะฝะธะต ะดะฒะต ะฝะตะดะตะปะธ ะฒะฐัะต    โ  โ
โ โ ัะผะพัะธะพะฝะฐะปัะฝะพะต ัะพััะพัะฝะธะต...      โ  โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                       โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ โ โจ ะะพะปะพะถะธัะตะปัะฝัะต ัะตะฝะดะตะฝัะธะธ      โ  โ
โ โ                                 โ  โ
โ โ - ะกัะฐะฑะธะปัะฝะพะต ะฝะฐัััะพะตะฝะธะต...      โ  โ
โ โ - ะะบัะธะฒะฝะฐั ัะพัะธะฐะปัะฝะฐั ะถะธะทะฝั...  โ  โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                       โ
โ [+ ะตัะต 3 ัะตะบัะธะธ]                     โ
โ                                       โ
โ ะกะพะทะดะฐะฝะพ: 12 ะฝะพัะฑัั 2024, 22:15       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะคะธะฝะฐะปัะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะฝะฐะปะธัะธะบะฐ ะธ ัะตะบะพะผะตะฝะดะฐัะธะธ             โ
โ ะะตะดะตะปั 4 โข 30 ะดะฝะตะน                   โ
โ ๐ฏ ะคะธะฝะฐะปัะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ ะผะตัััะฐ        โ
โ                                       โ
โ [ะะพะปะฝัะน ะฐะฝะฐะปะธะท ะฑะตะท ะบะฝะพะฟะบะธ "ะะฑะฝะพะฒะธัั"]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะคะฐะนะปั, ัะพะทะดะฐะฝะฝัะต/ะธะทะผะตะฝัะฝะฝัะต

### ะะพะฒัะต ัะฐะนะปั (7)
```
โจ supabase/migrations/024_create_monthly_analytics.sql
โจ src/app/api/analytics/generate/route.ts
โจ src/app/api/analytics/route.ts
โจ src/app/api/cron/monthly-analytics/route.ts
โจ PERPLEXITY_ANALYTICS_GUIDE.md
โจ MONTHLY_ANALYTICS_SETUP_RU.md
โจ APPLY_MIGRATION_024.md
```

### ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั (4)
```
๐ src/types/database.ts
๐ src/lib/integrations/perplexity.ts
๐ src/app/(user)/calendar/page.tsx
๐ vercel.json
```

## ๐ ะงัะพ ะฝัะถะฝะพ ัะดะตะปะฐัั ะดะปั ะทะฐะฟััะบะฐ

### 1. ะัะธะผะตะฝะธัั ะผะธะณัะฐัะธั
```bash
# ะงะตัะตะท Supabase Dashboard: SQL Editor
# ะะปะธ ัะตัะตะท CLI:
supabase migration up
```

### 2. ะัะพะฒะตัะธัั ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
```bash
PERPLEXITY_API_KEY=pplx-your-key
CRON_SECRET=your-secret
```

### 3. ะะตะฟะปะพะน ะฝะฐ Vercel
```bash
git add .
git commit -m "feat: add monthly analytics with Perplexity AI"
git push origin main
```

### 4. ะัะพะฒะตัะธัั ัะฐะฑะพัั
- ะกะพะทะดะฐะนัะต 3+ ะทะฐะฟะธัะธ ะฒ ะดะฝะตะฒะฝะธะบะต
- ะะตัะตะนะดะธัะต ะฝะฐ ัััะฐะฝะธัั ะบะฐะปะตะฝะดะฐัั
- ะะฐะถะผะธัะต "ะกะณะตะฝะตัะธัะพะฒะฐัั"
- ะัะพะฒะตัััะต ัะตะทัะปััะฐั

## ๐ฏ ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ

### 1. ะะฐะบะพะฟะธัะตะปัะฝัะน ะฟัะธะฝัะธะฟ
ะะฐะถะดะฐั ะฝะพะฒะฐั ะฝะตะดะตะปั ะฒะบะปััะฐะตั ะฒัะต ะฟัะตะดัะดััะธะต ะดะฐะฝะฝัะต ะผะตัััะฐ, ััะพ ะฟะพะทะฒะพะปัะตั Perplexity ะฒะธะดะตัั ะดะธะฝะฐะผะธะบั ะธะทะผะตะฝะตะฝะธะน.

### 2. ะคะธะฝะฐะปัะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ
ะ ะฟะพัะปะตะดะฝะธะน ะดะตะฝั ะผะตัััะฐ ัะพะทะดะฐะตััั ัะฟะตัะธะฐะปัะฝะฐั ัะธะฝะฐะปัะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ, ะบะพัะพัะฐั ะพััะฐะตััั ะฝะฐะฒัะตะณะดะฐ ะธ ัะปัะถะธั ะธััะพัะธัะตัะบะธะผ ัะฝะธะผะบะพะผ ะผะตัััะฐ.

### 3. ะกัััะบัััะธัะพะฒะฐะฝะฝัะน ะฐะฝะฐะปะธะท
5 ัะตัะบะธั ัะตะบัะธะน ะฒะผะตััะพ ะพะดะฝะพะณะพ ะฑะพะปััะพะณะพ ัะตะบััะฐ - ะปะตะณัะต ัะธัะฐัั ะธ ะฟะพะฝะธะผะฐัั.

### 4. ะะฒัะพะผะฐัะธะทะฐัะธั
ะกะธััะตะผะฐ ัะฐะฑะพัะฐะตั ะฟะพะปะฝะพัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ, ะฟะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ัะพะปัะบะพ ััะบะพัะธัั ะฟัะพัะตัั ะฒัััะฝัั.

### 5. ะััะพัะธั
ะะตัะตะบะปััะฐััั ะผะตะถะดั ะผะตัััะฐะผะธ ะฒ ะบะฐะปะตะฝะดะฐัะต, ะฟะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ะธััะพัะธัะตัะบัั ะฐะฝะฐะปะธัะธะบั.

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- โ RLS ะฟะพะปะธัะธะบะธ ะทะฐัะธัะฐัั ะดะฐะฝะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ ะะดะผะธะฝั ะผะพะณัั ะฒะธะดะตัั ะฒัั ะฐะฝะฐะปะธัะธะบั ะดะปั ะฐะฝะฐะปะธะทะฐ
- โ Cron endpoint ะทะฐัะธัะตะฝ ัะตะบัะตัะพะผ
- โ API endpoints ััะตะฑััั ะฐััะตะฝัะธัะธะบะฐัะธะธ

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะัะพะฒะตัะบะฐ ัะฐะฑะพัั ัะธััะตะผั

```sql
-- ะกัะฐัะธััะธะบะฐ ะฟะพ ะฐะฝะฐะปะธัะธะบะต
SELECT 
  year,
  month,
  COUNT(*) as total,
  COUNT(DISTINCT user_id) as users,
  SUM(CASE WHEN is_final THEN 1 ELSE 0 END) as finals
FROM monthly_analytics
GROUP BY year, month
ORDER BY year DESC, month DESC;

-- ะะพัะปะตะดะฝะธะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต ะฐะฝะฐะปะธัะธะบะธ
SELECT 
  u.email,
  ma.year,
  ma.month,
  ma.week_number,
  ma.days_analyzed,
  ma.is_final,
  ma.created_at
FROM monthly_analytics ma
JOIN auth.users u ON u.id = ma.user_id
ORDER BY ma.created_at DESC
LIMIT 10;
```

## โจ ะฃะปัััะตะฝะธั ะฟัะพะผะฟัะฐ

ะะฐั ะฟัะพะผะฟั ะฑัะป ัะปัััะตะฝ:

### ะัะธะณะธะฝะฐะป
```
ะัะตะดััะฐะฒั, ััะพ ัั โ ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ะฟัะธัะพะปะพะณ...
[ะฑะฐะทะพะฒะฐั ััััะบัััะฐ]
```

### ะฃะปัััะตะฝะธั
- โ ะะพะฑะฐะฒะปะตะฝ ะบะพะฝัะตะบัั ะฝะตะดะตะปะธ ะธ ะดะฝะตะน
- โ ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ั ัะผะพะดะทะธ
- โ ะงะตัะบะธะต ะทะฐะณะพะปะพะฒะบะธ ะดะปั ะฟะฐััะธะฝะณะฐ
- โ ะะตัะตะฒะพะด ะพัะตะฝะพะบ ะฝะฐัััะพะตะฝะธั (1-5) ะฒ ัะตะบัั
- โ ะััะฟะฟะธัะพะฒะบะฐ ัะฐะบัะพัะพะฒ
- โ ะกะพััะธัะพะฒะบะฐ ะฟะพ ะดะฐัะฐะผ

## ๐ ะะตะทัะปััะฐั

ะะพะปะฝะพัััั ัะฐะฑะพัะฐั ัะธััะตะผะฐ ะผะตัััะฝะพะน ะฐะฝะฐะปะธัะธะบะธ:
- ๐ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฐะฝะฐะปะธะท ะบะฐะถะดัั ะฝะตะดะตะปั
- ๐ค ะัะพัะตััะธะพะฝะฐะปัะฝัะน ะฟัะธัะพะปะพะณะธัะตัะบะธะน ัะฐะทะฑะพั
- ๐พ ะกะพััะฐะฝะตะฝะธะต ะธััะพัะธะธ ะฟะพ ะผะตัััะฐะผ
- ๐ฑ ะัะฐัะธะฒัะน UI ั ััััะบัััะธัะพะฒะฐะฝะฝัะผ ะพัะพะฑัะฐะถะตะฝะธะตะผ
- ๐ ะะฒัะพะผะฐัะธะทะฐัะธั ัะตัะตะท cron jobs
- ๐ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฒะพะฟัะพัะพะฒ:
1. ะกะผ. `MONTHLY_ANALYTICS_SETUP_RU.md` - ะฑัััััะน ััะฐัั
2. ะกะผ. `PERPLEXITY_ANALYTICS_GUIDE.md` - ัะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
3. ะกะผ. `APPLY_MIGRATION_024.md` - ะฟัะพะฑะปะตะผั ั ะผะธะณัะฐัะธะตะน

---

**ะกะธััะตะผะฐ ะณะพัะพะฒะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!** ๐

ะกะพะทะดะฐะฝะพ: ะะพัะฑัั 2024
ะะตััะธั: 1.0


